"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6696],{3992:(e,l,n)=>{n.r(l),n.d(l,{assets:()=>a,contentTitle:()=>c,default:()=>o,frontMatter:()=>i,metadata:()=>d,toc:()=>t});var s=n(5893),r=n(1151);const i={title:"\u9632\u706b\u5899\u57fa\u7840\u7bc7",date:new Date("2016-10-15T21:21:46.000Z"),tags:["Server","Firewall"]},c=void 0,d={id:"CloudNative/system/firewalld-basic",title:"\u9632\u706b\u5899\u57fa\u7840\u7bc7",description:"\u5f85\u4e86\u89e3",source:"@site/docs/CloudNative/system/firewalld-basic.md",sourceDirName:"CloudNative/system",slug:"/CloudNative/system/firewalld-basic",permalink:"/docs/CloudNative/system/firewalld-basic",draft:!1,unlisted:!1,tags:[{label:"Server",permalink:"/docs/tags/server"},{label:"Firewall",permalink:"/docs/tags/firewall"}],version:"current",lastUpdatedAt:1714042616,formattedLastUpdatedAt:"Apr 25, 2024",frontMatter:{title:"\u9632\u706b\u5899\u57fa\u7840\u7bc7",date:"2016-10-15T21:21:46.000Z",tags:["Server","Firewall"]},sidebar:"tutorialSidebar",previous:{title:"\u9632\u706b\u5899\u9ad8\u7ea7\u7bc7",permalink:"/docs/CloudNative/system/firewalld-advanced"},next:{title:"grub2",permalink:"/docs/CloudNative/system/grub"}},a={},t=[{value:"\u67e5\u770b\u9632\u706b\u5899\u8bbe\u7f6e",id:"\u67e5\u770b\u9632\u706b\u5899\u8bbe\u7f6e",level:5},{value:"\u66f4\u6539\u9632\u706b\u5899\u8bbe\u7f6e",id:"\u66f4\u6539\u9632\u706b\u5899\u8bbe\u7f6e",level:5},{value:"1. \u7ec8\u6b62\u6240\u6709\u6570\u636e\u5305\uff08Panic \u6a21\u5f0f\uff09",id:"1-\u7ec8\u6b62\u6240\u6709\u6570\u636e\u5305panic-\u6a21\u5f0f",level:6},{value:"2.\u91cd\u65b0\u52a0\u8f7d\u9632\u706b\u5899",id:"2\u91cd\u65b0\u52a0\u8f7d\u9632\u706b\u5899",level:6},{value:"3. \u4e3a\u5206\u533a\u589e\u52a0\u63a5\u53e3",id:"3-\u4e3a\u5206\u533a\u589e\u52a0\u63a5\u53e3",level:6},{value:"4.\u8bbe\u7f6e\u9ed8\u8ba4\u5206\u533a",id:"4\u8bbe\u7f6e\u9ed8\u8ba4\u5206\u533a",level:6},{value:"5.\u6253\u5f00\u9632\u706b\u5899\u7684\u7aef\u53e3",id:"5\u6253\u5f00\u9632\u706b\u5899\u7684\u7aef\u53e3",level:6},{value:"6.\u5c06\u4e00\u4e2a\u670d\u52a1\u52a0\u5165\u5230\u5206\u533a",id:"6\u5c06\u4e00\u4e2a\u670d\u52a1\u52a0\u5165\u5230\u5206\u533a",level:6},{value:"7.\u4ece\u4e00\u4e2a\u5206\u533a\u79fb\u9664\u670d\u52a1",id:"7\u4ece\u4e00\u4e2a\u5206\u533a\u79fb\u9664\u670d\u52a1",level:6},{value:"8.\u914d\u7f6e\u4f2a\u88c5 IP \u5730\u5740",id:"8\u914d\u7f6e\u4f2a\u88c5-ip-\u5730\u5740",level:6},{value:"9. \u914d\u7f6e\u7aef\u53e3\u8f6c\u53d1",id:"9-\u914d\u7f6e\u7aef\u53e3\u8f6c\u53d1",level:6}];function h(e){const l={a:"a",blockquote:"blockquote",code:"code",h5:"h5",h6:"h6",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.blockquote,{children:["\n",(0,s.jsx)(l.p,{children:"\u5f85\u4e86\u89e3"}),"\n"]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:"wheel"}),"\n",(0,s.jsx)(l.li,{children:"D-bus"}),"\n",(0,s.jsx)(l.li,{children:"NetworkManager"}),"\n",(0,s.jsx)(l.li,{children:"Panic"}),"\n"]}),"\n",(0,s.jsx)(l.hr,{}),"\n",(0,s.jsxs)(l.blockquote,{children:["\n",(0,s.jsx)(l.p,{children:"\u5b89\u88c5,\u4f7f\u7528&\u7981\u7528\u9632\u706b\u5899"}),"\n"]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:"\u5b89\u88c5\u9632\u706b\u5899"}),"\n"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"yum install firewalld\n# firewall-config \u56fe\u5f62\u754c\u9762\n"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:"\u542f\u7528&\u7981\u7528\u9632\u706b\u5899"}),"\n"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"\nsystemctl start firewalld\nsystemctl enabled firewalld\n\nsystemctl disable firewalld\nsystemctl stop firewalld\n"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:"\u67e5\u770b\u72b6\u6001"}),"\n"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"systemctl status firewalld\n"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:"\u68c0\u67e5 firewall-cmd \u662f\u5426\u53ef\u4ee5\u901a\u8fc7\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u6765\u8fde\u63a5\u540e\u53f0\u7a0b\u5e8f"}),"\n"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --state\n"})}),"\n",(0,s.jsxs)(l.blockquote,{children:["\n",(0,s.jsx)(l.p,{children:"\u4e86\u89e3\u9632\u706b\u5899"}),"\n"]}),"\n",(0,s.jsx)(l.p,{children:"\u7531 firewalld \u63d0\u4f9b\u7684\u662f\u52a8\u6001\u7684\u9632\u706b\u5899\u670d\u52a1\uff0c\u800c\u975e\u9759\u6001\u7684\u3002\u56e0\u4e3a\u914d\u7f6e\u7684\u6539\u53d8\u53ef\u4ee5\u968f\u65f6\u968f\u5730\u7acb\u523b\u6267\u884c\uff0c\u4e0d\u518d\u9700\u8981\u4fdd\u5b58\u6216\u8005\u6267\u884c\u8fd9\u4e9b\u6539\u53d8\u3002\u73b0\u884c\u7f51\u7edc\u8fde\u63a5\u7684\u610f\u5916\u4e2d\u65ad\u4e0d\u4f1a\u53d1\u751f\uff0c\u6b63\u5982\u9632\u706b\u5899\u7684\u6240\u6709\u90e8\u5206\u90fd\u4e0d\u9700\u8981\u91cd\u65b0\u4e0b\u8f7d\u3002"}),"\n",(0,s.jsxs)(l.p,{children:["**",(0,s.jsx)(l.code,{children:"firewall-cmd"})," \u547d\u4ee4\u53ef\u4ee5\u7531 root \u7528\u6237\u8fd0\u884c\uff0c\u4e5f\u53ef\u4ee5\u7531\u7ba1\u7406\u5458\u7528\u6237\u2014\u2014\u6362\u8a00\u4e4b\uff0c wheel \u7fa4\u4f53\u7684\u6210\u5458\u8fd0\u884c\u3002**\u5728\u540e\u4e00\u79cd\u60c5\u51b5\u91cc\uff0c\u547d\u4ee4\u5c06\u901a\u8fc7 ",(0,s.jsx)(l.code,{children:"polkit"})," \u8fdb\u7a0b\u6765\u6388\u6743\u3002"]}),"\n",(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.code,{children:"firewalld"})," \u7684\u914d\u7f6e\u50a8\u5b58\u5728",(0,s.jsx)(l.code,{children:"/usr/lib/firewalld/"})," \u548c ",(0,s.jsx)(l.code,{children:"/etc/firewalld/"})," \u91cc\u7684\u5404\u79cd XML \u6587\u4ef6\u91cc\uff0c\u8fd9\u6837\u4fdd\u6301\u4e86\u8fd9\u4e9b\u6587\u4ef6\u88ab\u7f16\u8f91\u3001\u5199\u5165\u3001\u5907\u4efd\u7684\u6781\u5927\u7684\u7075\u6d3b\u6027\uff0c\u4f7f\u4e4b\u53ef\u4f5c\u4e3a\u5176\u4ed6\u5b89\u88c5\u7684\u5907\u4efd\u7b49\u7b49\u3002"]}),"\n",(0,s.jsxs)(l.p,{children:["\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u4f7f\u7528 ",(0,s.jsx)(l.code,{children:"D-bus"})," \u548c ",(0,s.jsx)(l.code,{children:"firewalld"})," \u901a\u4fe1\u3002"]}),"\n",(0,s.jsxs)(l.blockquote,{children:["\n",(0,s.jsx)(l.p,{children:"\u6bd4\u8f83 system-config-firewall \u4ee5\u53ca iptables \u7684 firewalld"}),"\n"]}),"\n",(0,s.jsxs)(l.p,{children:["\u603b\u7ed3\u5c31\u662f",(0,s.jsx)(l.code,{children:"system-config-firewall"}),"\u6bd4",(0,s.jsx)(l.code,{children:"iptables"}),"\u597d"]}),"\n",(0,s.jsxs)(l.blockquote,{children:["\n",(0,s.jsx)(l.p,{children:"\u5bf9\u7f51\u7edc\u533a\u7684\u7406\u89e3"}),"\n"]}),"\n",(0,s.jsx)(l.p,{children:"\u57fa\u4e8e\u7528\u6237\u5bf9\u7f51\u7edc\u4e2d\u8bbe\u5907\u548c\u4ea4\u901a\u6240\u7ed9\u4e0e\u7684\u4fe1\u4efb\u7a0b\u5ea6\uff0c\u9632\u706b\u5899\u53ef\u4ee5\u7528\u6765\u5c06\u7f51\u7edc\u5206\u5272\u6210\u4e0d\u540c\u7684\u533a\u57df\u3002 NetworkManager \u901a\u77e5 firewalld \u4e00\u4e2a\u63a5\u53e3\u5f52\u5c5e\u67d0\u4e2a\u533a\u57df\u3002\u63a5\u53e3\u6240\u5206\u914d\u7684\u533a\u57df\u53ef\u4ee5\u7531 NetworkManager \u6539\u53d8\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u80fd\u4e3a\u60a8\u6253\u5f00\u76f8\u5173 NetworkManager \u7a97\u53e3\u7684 firewall-config \u5de5\u5177\u8fdb\u884c\u3002\n\u5728/etc/firewalld/\u7684\u533a\u57df\u8bbe\u5b9a\u662f\u4e00\u7cfb\u5217\u53ef\u4ee5\u88ab\u5feb\u901f\u6267\u884c\u5230\u7f51\u7edc\u63a5\u53e3\u7684\u9884\u8bbe\u5b9a\u3002\u5217\u8868\u5e76\u7b80\u8981\u8bf4\u660e\u5982\u4e0b\uff1a"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"drop\uff08\u4e22\u5f03\uff09"}),"\n",(0,s.jsx)(l.p,{children:"\u4efb\u4f55\u63a5\u6536\u7684\u7f51\u7edc\u6570\u636e\u5305\u90fd\u88ab\u4e22\u5f03\uff0c\u6ca1\u6709\u4efb\u4f55\u56de\u590d\u3002\u4ec5\u80fd\u6709\u53d1\u9001\u51fa\u53bb\u7684\u7f51\u7edc\u8fde\u63a5\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"block\uff08\u9650\u5236\uff09"}),"\n",(0,s.jsx)(l.p,{children:"\u4efb\u4f55\u63a5\u6536\u7684\u7f51\u7edc\u8fde\u63a5\u90fd\u88ab IPv4 \u7684 icmp-host-prohibited \u4fe1\u606f\u548c IPv6 \u7684 icmp6-adm-prohibited \u4fe1\u606f\u6240\u62d2\u7edd\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"public\uff08\u516c\u5171\uff09"}),"\n",(0,s.jsx)(l.p,{children:(0,s.jsx)(l.strong,{children:"\u5728\u516c\u5171\u533a\u57df\u5185\u4f7f\u7528\uff0c\u4e0d\u80fd\u76f8\u4fe1\u7f51\u7edc\u5185\u7684\u5176\u4ed6\u8ba1\u7b97\u673a\u4e0d\u4f1a\u5bf9\u60a8\u7684\u8ba1\u7b97\u673a\u9020\u6210\u5371\u5bb3\uff0c\u53ea\u80fd\u63a5\u6536\u7ecf\u8fc7\u9009\u53d6\u7684\u8fde\u63a5\u3002"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"external\uff08\u5916\u90e8\uff09"}),"\n",(0,s.jsx)(l.p,{children:"\u7279\u522b\u662f\u4e3a\u8def\u7531\u5668\u542f\u7528\u4e86\u4f2a\u88c5\u529f\u80fd\u7684\u5916\u90e8\u7f51\u3002\u60a8\u4e0d\u80fd\u4fe1\u4efb\u6765\u81ea\u7f51\u7edc\u7684\u5176\u4ed6\u8ba1\u7b97\uff0c\u4e0d\u80fd\u76f8\u4fe1\u5b83\u4eec\u4e0d\u4f1a\u5bf9\u60a8\u7684\u8ba1\u7b97\u673a\u9020\u6210\u5371\u5bb3\uff0c\u53ea\u80fd\u63a5\u6536\u7ecf\u8fc7\u9009\u62e9\u7684\u8fde\u63a5\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"dmz\uff08\u975e\u519b\u4e8b\u533a\uff09"}),"\n",(0,s.jsx)(l.p,{children:"\u7528\u4e8e\u60a8\u7684\u975e\u519b\u4e8b\u533a\u5185\u7684\u7535\u8111\uff0c\u6b64\u533a\u57df\u5185\u53ef\u516c\u5f00\u8bbf\u95ee\uff0c\u53ef\u4ee5\u6709\u9650\u5730\u8fdb\u5165\u60a8\u7684\u5185\u90e8\u7f51\u7edc\uff0c\u4ec5\u4ec5\u63a5\u6536\u7ecf\u8fc7\u9009\u62e9\u7684\u8fde\u63a5\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"work\uff08\u5de5\u4f5c\uff09"}),"\n",(0,s.jsx)(l.p,{children:"\u7528\u4e8e\u5de5\u4f5c\u533a\u3002\u60a8\u53ef\u4ee5\u57fa\u672c\u76f8\u4fe1\u7f51\u7edc\u5185\u7684\u5176\u4ed6\u7535\u8111\u4e0d\u4f1a\u5371\u5bb3\u60a8\u7684\u7535\u8111\u3002\u4ec5\u4ec5\u63a5\u6536\u7ecf\u8fc7\u9009\u62e9\u7684\u8fde\u63a5\u3002"}),"\n"]}),"\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"home\uff08\u5bb6\u5ead\uff09"}),"\n",(0,s.jsx)(l.p,{children:"\u7528\u4e8e\u5bb6\u5ead\u7f51\u7edc\u3002\u60a8\u53ef\u4ee5\u57fa\u672c\u4fe1\u4efb\u7f51\u7edc\u5185\u7684\u5176\u4ed6\u8ba1\u7b97\u673a\u4e0d\u4f1a\u5371\u5bb3\u60a8\u7684\u8ba1\u7b97\u673a\u3002\u4ec5\u4ec5\u63a5\u6536\u7ecf\u8fc7\u9009\u62e9\u7684\u8fde\u63a5\u3002"}),"\n"]}),"\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"internal\uff08\u5185\u90e8\uff09"}),"\n",(0,s.jsx)(l.p,{children:"\u7528\u4e8e\u5185\u90e8\u7f51\u7edc\u3002\u60a8\u53ef\u4ee5\u57fa\u672c\u4e0a\u4fe1\u4efb\u7f51\u7edc\u5185\u7684\u5176\u4ed6\u8ba1\u7b97\u673a\u4e0d\u4f1a\u5a01\u80c1\u60a8\u7684\u8ba1\u7b97\u673a\u3002\u4ec5\u4ec5\u63a5\u53d7\u7ecf\u8fc7\u9009\u62e9\u7684\u8fde\u63a5\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"trusted\uff08\u4fe1\u4efb\uff09"}),"\n",(0,s.jsx)(l.p,{children:"\u53ef\u63a5\u53d7\u6240\u6709\u7684\u7f51\u7edc\u8fde\u63a5\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.p,{children:["\u6307\u5b9a\u5176\u4e2d\u4e00\u4e2a\u533a\u57df\u4e3a\u9ed8\u8ba4\u533a\u57df\u662f\u53ef\u884c\u7684\u3002\u5f53\u63a5\u53e3\u8fde\u63a5\u52a0\u5165\u4e86 NetworkManager\uff0c\u5b83\u4eec\u5c31\u88ab\u5206\u914d\u4e3a\u9ed8\u8ba4\u533a\u57df\u3002",(0,s.jsx)(l.strong,{children:"\u5b89\u88c5\u65f6\uff0cfirewalld \u91cc\u7684\u9ed8\u8ba4\u533a\u57df\u88ab\u8bbe\u5b9a\u4e3a\u516c\u5171\u533a\u57df\u3002"})]}),"\n",(0,s.jsxs)(l.blockquote,{children:["\n",(0,s.jsx)(l.p,{children:"\u9884\u5148\u5b9a\u4e49\u7684\u670d\u52a1"}),"\n"]}),"\n",(0,s.jsxs)(l.p,{children:["\u9ed8\u8ba4\u7684\u9884\u5148\u5b9a\u4e49\u670d\u52a1 ",(0,s.jsx)(l.code,{children:"/usr/lib/firewalld/services/"})]}),"\n",(0,s.jsxs)(l.p,{children:["\u7cfb\u7edf\u6216\u8005\u7528\u6237\u521b\u5efa\u7684\u7cfb\u7edf",(0,s.jsx)(l.code,{children:"/etc/firewalld/services/"})]}),"\n",(0,s.jsx)(l.p,{children:(0,s.jsx)(l.strong,{children:"\u8bf7\u52ff\u7f16\u8f91/usr/lib/firewalld/services/ \uff0c\u53ea\u6709 /etc/firewalld/services/ \u7684\u6587\u4ef6\u53ef\u4ee5\u88ab\u7f16\u8f91\u3002"})}),"\n",(0,s.jsx)(l.p,{children:"\u7f16\u8f91 /etc/firewalld/services/ \u4e2d\u7684 XML \u6587\u4ef6\uff0c\u670d\u52a1\u53ef\u4ee5\u88ab\u589e\u52a0\u548c\u5220\u9664\u3002\u5982\u679c\u670d\u52a1\u6ca1\u6709\u88ab\u7528\u6237\u589e\u52a0\u6216\u8005\u6539\u53d8\uff0c\u90a3\u4e48 /etc/firewalld/services/ \u4e2d\u4e0d\u4f1a\u53d1\u73b0\u76f8\u5e94\u7684 XML \u6587\u4ef6\u3002\u5982\u679c\u60a8\u5e0c\u671b\u589e\u52a0\u6216\u8005\u6539\u53d8\u670d\u52a1\uff0c /usr/lib/firewalld/services/ \u6587\u4ef6\u53ef\u4ee5\u4f5c\u4e3a\u6a21\u677f\u4f7f\u7528\u3002"}),"\n",(0,s.jsx)(l.p,{children:(0,s.jsx)(l.strong,{children:"firewalld \u4f18\u5148\u4f7f\u7528 /etc/firewalld/services/ \u91cc\u7684\u6587\u4ef6\uff0c\u5982\u679c\u4e00\u4efd\u6587\u4ef6\u88ab\u5220\u9664\u4e14\u670d\u52a1\u88ab\u91cd\u65b0\u52a0\u8f7d\u540e\uff0c\u4f1a\u5207\u6362\u5230 /usr/lib/firewalld/services/\u3002"})}),"\n",(0,s.jsxs)(l.blockquote,{children:["\n",(0,s.jsx)(l.p,{children:"\u7528\u547d\u4ee4\u884c\u5de5\u5177 firewall-cmd \u914d\u7f6e\u9632\u706b\u5899"}),"\n"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --version\nfirewall-cmd --help\n"})}),"\n",(0,s.jsx)(l.p,{children:(0,s.jsx)(l.strong,{children:"\u4e3a\u4e86\u8bbe\u7f6e\u4e00\u4e2a\u6c38\u4e45\u6216\u8005\u53ef\u6267\u884c\u547d\u4ee4\uff0c\u9664\u4e86 --direct \u547d\u4ee4\uff08\u5b83\u4eec\u672c\u8d28\u4e0a\u662f\u6682\u65f6\u7684\uff09\u4e4b\u5916\uff0c\u8981\u5411\u6240\u6709\u547d\u4ee4\u6dfb\u52a0 --permanent \u9009\u62e9\u3002\u6ce8\u610f\uff0c\u8fd9\u4e0d\u53ea\u662f\u610f\u5473\u7740\u6c38\u4e45\u66f4\u6539\uff0c\u800c\u4e14\u66f4\u6539\u5c06\u4ec5\u4ec5\u5728\u9632\u706b\u5899\u91cd\u65b0\u52a0\u8f7d\u3001\u670d\u52a1\u5668\u91cd\u542f\u6216\u8005\u7cfb\u7edf\u91cd\u542f\u4e4b\u540e\u751f\u6548\u3002\u7528 firewall-cmd \u8bbe\u7f6e\u7684\u7f3a\u5c11 --permanent \u9009\u9879\u7684\u8bbe\u5b9a\u80fd\u7acb\u5373\u751f\u6548\uff0c\u4f46\u662f\u5b83\u4ec5\u4ec5\u5728\u4e0b\u6b21\u9632\u706b\u5899\u91cd\u65b0\u52a0\u8f7d\u3001\u7cfb\u7edf\u542f\u52a8\u6216\u8005 firewalld \u670d\u52a1\u91cd\u542f\u4e4b\u524d\u53ef\u7528\u3002\u9632\u706b\u5899\u4e0d\u4f1a\u5728\u65ad\u5f00\u8fde\u63a5\u65f6\u91cd\u65b0\u52a0\u8f7d\uff0c\u800c\u4f1a\u63d0\u793a\u60a8\u901a\u8fc7\u91cd\u65b0\u52a0\u8f7d\uff0c\u653e\u5f03\u4e34\u65f6\u66f4\u6539\u3002"})}),"\n",(0,s.jsx)(l.h5,{id:"\u67e5\u770b\u9632\u706b\u5899\u8bbe\u7f6e",children:"\u67e5\u770b\u9632\u706b\u5899\u8bbe\u7f6e"}),"\n",(0,s.jsx)(l.p,{children:"\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5f97\u5230 firewalld \u7684\u72b6\u6001\u7684\u6587\u672c\u663e\u793a\uff1a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --state\n"})}),"\n",(0,s.jsx)(l.p,{children:"\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u67e5\u770b\u6d3b\u52a8\u5206\u533a\u7684\u5217\u522b\uff0c\u5e76\u9644\u5e26\u4e00\u4e2a\u76ee\u524d\u5206\u914d\u7ed9\u5b83\u4eec\u7684\u63a5\u53e3\u5217\u8868\uff1a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --get-active-zones\n"})}),"\n",(0,s.jsx)(l.p,{children:"\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u627e\u51fa\u5f53\u524d\u5206\u914d\u4e86\u63a5\u53e3\uff08\u4f8b\u5982 em1\uff09\u7684\u533a\u57df\uff1a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --get-zone-of-interface=em1\n\npublic\n"})}),"\n",(0,s.jsx)(l.p,{children:"\u4ee5 root \u8eab\u4efd\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u627e\u51fa\u5206\u914d\u7ed9\u4e00\u4e2a\u533a\u57df\uff08\u4f8b\u5982\u516c\u5171\u533a\u57df\uff09\u7684\u6240\u6709\u63a5\u53e3\uff1a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=public --list-interfaces\n\nem1 wlan0\n"})}),"\n",(0,s.jsx)(l.p,{children:"\u4ece NetworkManager \u53ef\u4ee5\u5f97\u5230\u8fd9\u4e2a\u4fe1\u606f\uff0c\u5e76\u4e14\u4ec5\u663e\u793a\u63a5\u53e3\u800c\u975e\u8fde\u63a5\u3002\n\u4ee5 root \u7528\u6237\u8eab\u4efd\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u627e\u51fa\u50cf\u516c\u5171\u533a\u57df\u8fd9\u6837\u7684\u4e00\u4e2a\u533a\u57df\u7684\u6240\u6709\u8bbe\u7f6e\uff1a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=public --list-all\n\npublic\n  interfaces:\n  services: mdns dhcpv6-client ssh\n  ports:\n  forward-ports:\n  icmp-blocks: source-quench\n"})}),"\n",(0,s.jsx)(l.p,{children:"\u4ee5 root \u8eab\u4efd\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u67e5\u770b\u76ee\u524d\u6d3b\u52a8\u7684\u7f51\u7edc\u533a\u57df\uff1a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --get-service\n\ncluster-suite pop3s bacula-client smtp ipp radius bacula ftp mdns samba dhcpv6-client dns openvpn imaps samba-client http https ntp vnc-server telnet libvirt ssh ipsec ipp-client amanda-client tftp-client nfs tftp libvirt-tls\n"})}),"\n",(0,s.jsxs)(l.p,{children:["\u8fd9\u6837\u5c06\u5217\u51fa ",(0,s.jsx)(l.code,{children:"/usr/lib/firewalld/services/"})," \u4e2d\u7684\u670d\u52a1\u5668\u540d\u79f0\u3002\u6ce8\u610f\uff0c\u914d\u7f6e\u6587\u4ef6\u662f\u4ee5\u670d\u52a1\u672c\u8eab\u547d\u540d\u7684 ",(0,s.jsx)(l.code,{children:"service-name.xml"}),"\u3002\n\u4ee5 root \u8eab\u4efd\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u67e5\u770b\u6240\u6709\u5728\u9632\u706b\u5899\u4e0b\u6b21\u52a0\u8f7d\u540e\u5c06\u6d3b\u8dc3\u7684\u7f51\u7edc\u533a\u57df\uff1a"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --get-service --permanent\n"})}),"\n",(0,s.jsx)(l.h5,{id:"\u66f4\u6539\u9632\u706b\u5899\u8bbe\u7f6e",children:"\u66f4\u6539\u9632\u706b\u5899\u8bbe\u7f6e"}),"\n",(0,s.jsx)(l.h6,{id:"1-\u7ec8\u6b62\u6240\u6709\u6570\u636e\u5305panic-\u6a21\u5f0f",children:"1. \u7ec8\u6b62\u6240\u6709\u6570\u636e\u5305\uff08Panic \u6a21\u5f0f\uff09"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"# \u5f00\u59cb\u7ec8\u6b62\u6240\u6709\u8f93\u5165\u548c\u8f93\u51fa\u7684\u6570\u636e\u5305\nfirewall-cmd --panic-on\n# \u5f00\u59cb\u518d\u6b21\u4f20\u8f93\u8f93\u5165\u548c\u8f93\u51fa\u7684\u6570\u636e\u5305\nfirewall-cmd --panic-off\n# \u786e\u5b9a panic \u6a21\u5f0f\u88ab\u4f7f\u7528\u6216\u8005\u7981\u7528: \u5982\u679c\u5728\u8fd0\u884c\u6a21\u5f0f\uff0c\u5c4f\u5e55\u4f1a\u663e\u793a yes\uff0c\u9000\u51fa\u72b6\u6001\u4e3a 0\uff0c\u5982\u679c\u88ab\u542f\u7528\uff0c\u5c4f\u5e55\u4f1a\u663e\u793a no\uff0c\u9000\u51fa\u72b6\u6001\u4e3a 0\u3002\nfirewall-cmd --query-panic\n"})}),"\n",(0,s.jsx)(l.h6,{id:"2\u91cd\u65b0\u52a0\u8f7d\u9632\u706b\u5899",children:"2.\u91cd\u65b0\u52a0\u8f7d\u9632\u706b\u5899"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"\u91cd\u65b0\u52a0\u8f7d\u9632\u706b\u5899\uff0c\u5e76\u4e0d\u4e2d\u65ad\u7528\u6237\u8fde\u63a5\uff0c\u5373\u4e0d\u4e22\u5931\u72b6\u6001\u4fe1\u606f"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --reload\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"\u91cd\u65b0\u52a0\u8f7d\u9632\u706b\u5899\u5e76\u4e2d\u65ad\u7528\u6237\u8fde\u63a5\uff0c\u5373\u4e22\u5f03\u72b6\u6001\u4fe1\u606f"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --complete-reload\n"})}),"\n",(0,s.jsx)(l.p,{children:"\u901a\u5e38\u5728\u9632\u706b\u5899\u51fa\u73b0\u4e25\u91cd\u95ee\u9898\u65f6\uff0c\u8fd9\u4e2a\u547d\u4ee4\u624d\u4f1a\u88ab\u4f7f\u7528\u3002\u6bd4\u5982\uff0c\u9632\u706b\u5899\u89c4\u5219\u662f\u6b63\u786e\u7684\uff0c\u4f46\u5374\u51fa\u73b0\u72b6\u6001\u4fe1\u606f\u95ee\u9898\u548c\u65e0\u6cd5\u5efa\u7acb\u8fde\u63a5\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(l.h6,{id:"3-\u4e3a\u5206\u533a\u589e\u52a0\u63a5\u53e3",children:"3. \u4e3a\u5206\u533a\u589e\u52a0\u63a5\u53e3"}),"\n",(0,s.jsx)(l.p,{children:"\u8981\u4e3a\u4e00\u4e2a\u5206\u533a\u589e\u52a0\u63a5\u53e3\uff0c\u6bd4\u5982\uff0c\u628a em1 \u589e\u52a0\u5230\u516c\u5171\u5206\u533a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:" firewall-cmd --zone=public --add-interface=em1 --permanent\n"})}),"\n",(0,s.jsx)(l.h6,{id:"4\u8bbe\u7f6e\u9ed8\u8ba4\u5206\u533a",children:"4.\u8bbe\u7f6e\u9ed8\u8ba4\u5206\u533a"}),"\n",(0,s.jsx)(l.p,{children:"\u4ee5 root \u7528\u6237\u8eab\u4efd\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u6765\u8bbe\u7f6e\u9ed8\u8ba4\u5206\u533a\uff0c\u6bd4\u5982\u8bbe\u7f6e\u4e3a\u516c\u5171\u533a\u57df"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --set-default-zone=public\n"})}),"\n",(0,s.jsx)(l.p,{children:(0,s.jsx)(l.strong,{children:"\u8fd9\u4e2a\u66f4\u6539\u5c06\u7acb\u523b\u751f\u6548\uff0c\u800c\u4e14\u5728\u6b64\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u91cd\u65b0\u52a0\u8f7d\u9632\u706b\u5899"})}),"\n",(0,s.jsx)(l.h6,{id:"5\u6253\u5f00\u9632\u706b\u5899\u7684\u7aef\u53e3",children:"5.\u6253\u5f00\u9632\u706b\u5899\u7684\u7aef\u53e3"}),"\n",(0,s.jsxs)(l.p,{children:["\u901a\u8fc7\u4ee5 root \u8eab\u4efd\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5217\u51fa\u4e00\u4e2a\u533a\u57df\uff0c\u4f8b\u5982 ",(0,s.jsx)(l.code,{children:"public"})," \u7684\u6240\u6709\u5f00\u653e\u7aef\u53e3"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=public --list-ports\n"})}),"\n",(0,s.jsxs)(l.p,{children:["\u8981\u5c06\u4e00\u4e2a\u7aef\u53e3\u52a0\u5165\u4e00\u4e2a\u5206\u533a\uff0c\u4f8b\u5982\uff0c\u5141\u8bb8 TCP \u7684\u6d41\u91cf\u901a\u8fc7\u7aef\u53e3 8080 \u7684 \u8fdb\u5165",(0,s.jsx)(l.code,{children:"public"}),"\u5206\u533a\uff0c\u5219\u4ee5 root \u8eab\u4efd\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=public --add-port=8080/tcp --permanent\n"})}),"\n",(0,s.jsx)(l.p,{children:"\u8981\u5c06\u4e00\u7cfb\u5217\u7aef\u53e3\u52a0\u5165\u4e00\u4e2a\u5206\u533a\uff0c\u6bd4\u5982\u5141\u8bb8\u4ece 5060 \u5230 5061 \u7684\u7aef\u53e3\u90fd\u63a5\u5165\u516c\u5171\u5206\u533a\uff0c\u5219\u4ee5 root \u8eab\u4efd\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=public --add-port=5060-5061/udp\n"})}),"\n",(0,s.jsx)(l.p,{children:"\u589e\u52a0 --permanent \u9009\u9879\u5e76\u91cd\u65b0\u52a0\u8f7d\u9632\u706b\u5899\uff0c\u4f7f\u4e4b\u6210\u4e3a\u6c38\u4e45\u6027\u8bbe\u7f6e\u3002"}),"\n",(0,s.jsx)(l.h6,{id:"6\u5c06\u4e00\u4e2a\u670d\u52a1\u52a0\u5165\u5230\u5206\u533a",children:"6.\u5c06\u4e00\u4e2a\u670d\u52a1\u52a0\u5165\u5230\u5206\u533a"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=work --add-service=smtp --permanent\n"})}),"\n",(0,s.jsx)(l.h6,{id:"7\u4ece\u4e00\u4e2a\u5206\u533a\u79fb\u9664\u670d\u52a1",children:"7.\u4ece\u4e00\u4e2a\u5206\u533a\u79fb\u9664\u670d\u52a1"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=work --remove-service=smtp --permanent\n"})}),"\n",(0,s.jsx)(l.h6,{id:"8\u914d\u7f6e\u4f2a\u88c5-ip-\u5730\u5740",children:"8.\u914d\u7f6e\u4f2a\u88c5 IP \u5730\u5740"}),"\n",(0,s.jsxs)(l.ol,{children:["\n",(0,s.jsx)(l.li,{children:"\u68c0\u67e5"}),"\n"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=external --query-masquerade\n"})}),"\n",(0,s.jsx)(l.p,{children:"\u5982\u679c\u53ef\u7528\uff0c\u5c4f\u5e55\u4f1a\u663e\u793a yes\uff0c\u9000\u51fa\u72b6\u6001\u4e3a 0\uff1b \u5426\u5219\uff0c\u5c4f\u5e55\u663e\u793a no\uff0c\u9000\u51fa\u72b6\u6001\u4e3a 1\u3002\u5982\u679c\u7701\u7565 zone \uff0c\u9ed8\u8ba4\u533a\u57df\u5c06\u88ab\u4f7f\u7528\u3002"}),"\n",(0,s.jsxs)(l.ol,{start:"2",children:["\n",(0,s.jsx)(l.li,{children:"\u5141\u8bb8\u4f2a\u88c5 IP"}),"\n"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=external --add-masquerade --permanent\n"})}),"\n",(0,s.jsxs)(l.ol,{start:"3",children:["\n",(0,s.jsx)(l.li,{children:"\u7981\u7528\u4f2a\u88c5 IP"}),"\n"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=external --remove-masquerade --permanent\n"})}),"\n",(0,s.jsx)(l.h6,{id:"9-\u914d\u7f6e\u7aef\u53e3\u8f6c\u53d1",children:"9. \u914d\u7f6e\u7aef\u53e3\u8f6c\u53d1"}),"\n",(0,s.jsxs)(l.ol,{children:["\n",(0,s.jsx)(l.li,{children:"\u8981\u5c06\u8fdb\u5165\u7f51\u7edc\u7684\u7a0b\u5e8f\u5305\u4ece\u4e00\u4e2a\u7aef\u53e3\u8f6c\u53d1\u5230\u4e00\u4e2a\u66ff\u4ee3\u7aef\u53e3\u6216\u8005\u5730\u5740\uff0c\u9996\u5148\u9700\u4ee5 root \u8eab\u4efd\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u6765\u4e3a\u4e00\u4e2a\u533a\u57df\uff08\u6bd4\u5982\u5916\u90e8\u533a\u57df\uff09\uff0c\u8fd0\u884c\u4f2a\u88c5 IP \u5730\u5740"}),"\n"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=external --add-masquerade\n"})}),"\n",(0,s.jsxs)(l.ol,{start:"2",children:["\n",(0,s.jsx)(l.li,{children:"\u4ee5 root \u8eab\u4efd\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u628a\u7a0b\u5e8f\u5305\u8f6c\u53d1\u5230\u4e00\u4e2a\u672c\u5730\u7aef\u53e3\uff0c\u5373\u76f8\u540c\u7cfb\u7edf\u4e0a\u7684\u4e00\u4e2a\u7aef\u53e3"}),"\n"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=external --add-forward-port=port=22:proto=tcp:toport=3753\n"})}),"\n",(0,s.jsx)(l.p,{children:"\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\uff0c\u672c\u6765\u8981\u9001\u5230 22 \u7aef\u53e3\u7684\u7a0b\u5e8f\u5305\u73b0\u5728\u88ab\u8f6c\u53d1\u5230 3753 \u7aef\u53e3\u3002\u6e90\u76ee\u7684\u7aef\u53e3\u7528 port \u9009\u9879\u6307\u5b9a\u3002\u8fd9\u4e2a\u9009\u9879\u53ef\u4ee5\u662f\u4e00\u4e2a\u7aef\u53e3\uff0c\u6216\u8005\u4e00\u7ec4\u7aef\u53e3\u8303\u56f4\u5e76\u52a0\u4e0a\u534f\u8bae\u3002\u5982\u679c\u6307\u5b9a\u534f\u8bae\u7684\u8bdd\uff0c\u8fd9\u4e2a\u534f\u8bae\u5fc5\u987b\u662f tcp \u6216 udp\u3002\u8fd9\u4e2a\u65b0\u7684\u672c\u5730\u7aef\u53e3\uff0c\u5373\u6d41\u91cf\u88ab\u8f6c\u53d1\u8fc7\u53bb\u7684\u7aef\u53e3\u6216\u8005\u7aef\u53e3\u8303\u56f4\uff0c\u9700\u7528 toport \u9009\u9879\u6307\u5b9a\u3002"}),"\n",(0,s.jsxs)(l.ol,{start:"3",children:["\n",(0,s.jsx)(l.li,{children:"\u4ee5 root \u8eab\u4efd\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u4e0d\u6539\u53d8\u76ee\u7684\u7aef\u53e3\u5c06\u7a0b\u5e8f\u5305\u8f6c\u53d1\u5230\u53e6\u4e00\u4e2a\u901a\u5e38\u662f\u5185\u90e8\u5730\u5740\u7684 IPv4 \u5730\u5740"}),"\n"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=external --add-forward-port=port=22:proto=tcp:toaddr=192.0.2.55\n"})}),"\n",(0,s.jsx)(l.p,{children:"\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u539f\u672c\u53d1\u5f80 22 \u7aef\u53e3\u7684\u7a0b\u5e8f\u5305\u73b0\u5728\u88ab\u8f6c\u53d1\u5230\u76f8\u540c\u7684\u7aef\u53e3\uff0c\u5730\u5740\u5219\u7531 toaddr \u63d0\u4f9b\u3002\u6e90\u76ee\u7684\u5730\u7aef\u53e3\u7528 port \u6307\u5b9a\u3002\u8fd9\u4e2a\u9009\u9879\u53ef\u80fd\u662f\u4e00\u4e2a\u7aef\u53e3\uff0c\u6216\u8005\u4e00\u7ec4\u7aef\u53e3\u8303\u56f4\u5e76\u52a0\u4e0a\u534f\u8bae\u3002\u5982\u679c\u88ab\u6307\u5b9a\uff0c\u534f\u8bae\u5fc5\u987b\u662f tcp \u6216 udp \u4e2d\u7684\u4e00\u4e2a\u3002\u8fd9\u4e2a\u65b0\u7aef\u53e3\uff0c\u5373\u6d41\u91cf\u88ab\u8f6c\u53d1\u8fc7\u53bb\u7684\u7aef\u53e3\u6216\u8005\u7aef\u53e3\u8303\u56f4\uff0c\u7528 toport \u6307\u5b9a\u3002"}),"\n",(0,s.jsxs)(l.ol,{start:"4",children:["\n",(0,s.jsx)(l.li,{children:"\u4ee5 root \u8eab\u4efd\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u628a\u7a0b\u5e8f\u5305\u8f6c\u53d1\u5230\u901a\u5e38\u662f\u5185\u90e8\u5730\u5740\u7684\u53e6\u4e00\u4e2a IPv4 \u5730\u5740"}),"\n"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=external --add-forward-port=port=22:proto=tcp:toport=2055:toaddr=192.0.2.55\n"})}),"\n",(0,s.jsx)(l.p,{children:"\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u539f\u672c\u53d1\u5f80 22 \u7aef\u53e3\u7684\u7a0b\u5e8f\u5305\u73b0\u5728\u88ab\u8f6c\u53d1\u5230\u548c toaddr \u9009\u9879\u4e00\u8d77\u7ed9\u51fa\u5730\u5740\u7684 2055 \u7aef\u53e3\u3002\u6e90\u76ee\u7684\u7aef\u53e3\u7528 port \u9009\u9879\u6307\u5b9a\u3002\u8fd9\u4e2a\u9009\u9879\u53ef\u4ee5\u662f\u4e00\u4e2a\u7aef\u53e3\uff0c\u6216\u8005\u6253\u5305\u4e86\u534f\u8bae\u7684\u7aef\u53e3\u8303\u56f4\u3002\u5982\u679c\u88ab\u6307\u5b9a\uff0c\u8fd9\u4e2a\u534f\u8bae\u4e00\u5b9a\u662f tcp \u6216 udp \u4e2d\u7684\u4e00\u4e2a\u3002\u8fd9\u4e2a\u65b0\u7684\u76ee\u7684\u7aef\u53e3\uff0c\u5373\u6d41\u91cf\u88ab\u8f6c\u53d1\u8fc7\u53bb\u7684\u7aef\u53e3\u6216\u8005\u7aef\u53e3\u8303\u56f4\uff0c\u7528 toport \u6307\u5b9a\u3002"}),"\n",(0,s.jsxs)(l.p,{children:["\u589e\u52a0 ",(0,s.jsx)(l.code,{children:"--permanent"})," \u9009\u9879\u5e76\u91cd\u65b0\u52a0\u8f7d\u9632\u706b\u5899\uff0c\u4f7f\u8fd9\u4e9b\u8bbe\u7f6e\u6c38\u4e45\u4fdd\u7559\u3002"]}),"\n",(0,s.jsx)(l.hr,{}),"\n",(0,s.jsx)(l.p,{children:"\u603b\u7ed3\uff1a"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"\u5b89\u88c5\u9632\u706b\u5899"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"yum install firewalld firewall-config\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"\u542f\u7528\u9632\u706b\u5899"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"systemctl satrt firewalld\nsystemctl enabled firewalld\n"})}),"\n"]}),"\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"\u67e5\u770b\u72b6\u6001"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"systemctl status firewalld\nfirewall-cmd state\n"})}),"\n"]}),"\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"\u67e5\u770b\u7aef\u53e3\u542f\u7528\u60c5\u51b5"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --list-ports\n"})}),"\n"]}),"\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"\u542f\u7528\u7aef\u53e3"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --zone=public --add-port=8080/tcp --permanent\nfirewall-cmd --zone=public --add-port=23333/tcp --permanent\nfirewall-cmd --zone=public --add-port=443/tcp --permanent\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["\n",(0,s.jsx)(l.p,{children:"\u91cd\u65b0\u52a0\u8f7d\u9632\u706b\u5899(\u4e0d\u4e22\u5931\u7528\u6237\u4fe1\u606f)"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"firewall-cmd --reload\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(l.hr,{}),"\n",(0,s.jsx)(l.p,{children:"\u53c2\u8003\u6587\u7ae0\uff1a"}),"\n",(0,s.jsxs)(l.ol,{children:["\n",(0,s.jsx)(l.li,{children:(0,s.jsx)(l.a,{href:"https://access.redhat.com/documentation/zh-CN/Red_Hat_Enterprise_Linux/7/html/Security_Guide/sec-Using_Firewalls.html#sec-Comparison_of_Firewalld_to_system-config-firewall_and_iptables",children:"\u7ea2\u5e3d\u4f01\u4e1a\u7248 LINUX 7 \u5b89\u5168\u6027\u6307\u5357"})}),"\n"]})]})}function o(e={}){const{wrapper:l}={...(0,r.a)(),...e.components};return l?(0,s.jsx)(l,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},1151:(e,l,n)=>{n.d(l,{Z:()=>d,a:()=>c});var s=n(7294);const r={},i=s.createContext(r);function c(e){const l=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(l):{...l,...e}}),[l,e])}function d(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(i.Provider,{value:l},e.children)}}}]);